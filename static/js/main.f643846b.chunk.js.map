{"version":3,"sources":["utils/constants.js","reducers/playlist.js","reducers/tracks.js","reducers/userPlaylist.js","store/store.js","components/Header.js","components/Home.js","components/RedirectPage.js","components/PlaylistList.js","images/default-cover-art.png","utils/functions.js","utils/api.js","actions/result.js","components/SearchForm.js","components/Dashboard.js","components/Videoplayer.js","utils/youtube.js","components/Tracks.js","components/NotFoundPage.js","components/ScrollToTop.js","router/AppRouter.js","index.js"],"names":["SET_PLAYLIST","ADD_PLAYLIST","SET_USER_PLAYLIST","ADD_USER_PLAYLIST","SET_TRACKS","playlistReducer","state","action","playlists","type","next","items","trackReducer","playlistData","tracks","userPlaylistReducer","userPlaylists","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","playlist","userPlaylist","applyMiddleware","thunk","Header","history","useHistory","className","onClick","push","Home","isValidSession","location","process","REACT_APP_CLIENT_ID","REACT_APP_AUTHORIZE_URL","REACT_APP_REDIRECT_URL","sessionExpired","session_expired","Fragment","to","Alert","variant","Button","RedirectPage","this","props","access_token","hash","substring","split","reduce","res","item","parts","expiryTime","Date","getTime","expires_in","localStorage","setItem","JSON","stringify","error","React","Component","PlayList","handlePlaylistSelect","loadMore","map","i","Card","style","width","_","isEmpty","images","src","alt","Img","url","Body","Title","name","Text","owner","display_name","setAuthHeader","params","parse","getItem","axios","defaults","headers","common","console","log","get","a","result","data","setPlayList","setTracks","getUserPlaylists","dispatch","getTracks","URL","recursivelyGetSongs","allTracks","counter","initiateLoadMorePlaylist","SearchForm","useState","searchTerm","setSearchTerm","errorMsg","setErrorMsg","Form","onSubmit","event","preventDefault","trim","handleSearch","Group","controlId","Label","Control","value","placeholder","onChange","target","autoComplete","Dashboard","setSelectedPlaylist","setExpiryTime","useDispatch","selectedTab","setSelectedTab","useSelector","useEffect","then","undefined","clear","getPlaylists","handleTabChange","e","id","API_URL","encodeURIComponent","initiateGetResult","pathname","Videoplayer","currTrack","videoId","handleNextTrack","textAlign","fontSize","fontWeight","containerClassName","onStateChange","playerInfo","playerState","checkElapsedTime","opts","playerVars","autoplay","snippet","title","create","baseURL","part","maxResults","key","Tracks","selectedPlaylist","playlistId","useParams","songIndex","setSongIndex","randomize","setRandomize","isBusy","setIsBusy","setCurrTrack","query","searchForVideo","trackId","youtube","q","track","artists","getPlaylistData","handleSelect","nextSong","Math","floor","random","length","parseInt","alert","href","external_urls","spotify","rel","etag","disabled","NotFoundPage","ScrollToTop","useLocation","scrollTo","AppRouter","path","exact","render","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f643846b.chunk.js","sourcesContent":["export const SET_PLAYLIST = 'SET_PLAYLIST';\r\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST';\r\nexport const SET_USER_PLAYLIST = 'SET_USER_TRACKS';\r\nexport const ADD_USER_PLAYLIST = 'ADD_USER_TRACKS';\r\nexport const SET_TRACKS = 'SET_TRACKS';","import { SET_PLAYLIST, ADD_PLAYLIST } from '../utils/constants';\r\n\r\nconst playlistReducer = (state = {}, action) => {\r\n  const { playlists } = action;\r\n  switch (action.type) {\r\n    case SET_PLAYLIST:\r\n      return playlists;\r\n    case ADD_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        next: playlists.next,\r\n        items: [...state.items, ...playlists.items]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default playlistReducer;","import { SET_TRACKS } from '../utils/constants';\r\n\r\nconst trackReducer = (state = {}, action) => {\r\n  const { playlistData, tracks } = action;\r\n  switch (action.type) {\r\n\r\n    case SET_TRACKS:\r\n      return {\r\n        playlistData,\r\n        tracks\r\n      };\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default trackReducer;","import { SET_USER_PLAYLIST, ADD_USER_PLAYLIST } from '../utils/constants';\r\n\r\nconst userPlaylistReducer = (state = {}, action) => {\r\n  const { userPlaylists } = action;\r\n  switch (action.type) {\r\n\r\n    case SET_USER_PLAYLIST:\r\n      return userPlaylists;\r\n\r\n    case ADD_USER_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        next: userPlaylists.next,\r\n        items: [...state.items, ...userPlaylists.items]\r\n      };\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default userPlaylistReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport playlistReducer from '../reducers/playlist';\r\nimport trackReducer from '../reducers/tracks';\r\nimport userPlaylistReducer from '../reducers/userPlaylist';\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  combineReducers({\r\n    playlist: playlistReducer,\r\n    userPlaylist: userPlaylistReducer,\r\n    tracks: trackReducer\r\n  }),\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\nexport default store;","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport '../styles/Header.css'\r\n\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const handleClick = () => {\r\n    history.push('/dashboard')\r\n  }\r\n\r\n  return (\r\n    <h1 className=\"Header\" onClick={handleClick}>\r\n      <span className=\"Header-you\">You</span>\r\n      <span className=\"Header-tify\">Tify</span>\r\n    </h1>\r\n  )\r\n};\r\nexport default Header;","import React from 'react';\r\nimport { Button, Alert } from 'react-bootstrap';\r\nimport Header from './Header';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Home = ({isValidSession, location}) => {\r\n  const {\r\n    REACT_APP_CLIENT_ID,\r\n    REACT_APP_AUTHORIZE_URL,\r\n    REACT_APP_REDIRECT_URL\r\n  } = process.env;\r\n\r\n\r\n  // Send login request to Spotify\r\n  const handleLogin = () => {\r\n    window.location = `${REACT_APP_AUTHORIZE_URL}?client_id=${REACT_APP_CLIENT_ID}&redirect_uri=${REACT_APP_REDIRECT_URL}&response_type=token&show_dialog=true`;\r\n  }\r\n\r\n  //Will be using state to keep track of session expiration \r\n  const { state } = location\r\n  const sessionExpired = state && state.session_expired;\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isValidSession() ? (\r\n        <Redirect to='/dashboard' />\r\n      ) : (\r\n        <div className=\"login\">\r\n          <Header />\r\n          {sessionExpired && (\r\n            <Alert variant=\"info\">Session expired</Alert>\r\n          )}\r\n          <Button variant=\"info\" type=\"submit\" onClick={handleLogin}>\r\n            Login to Spotify\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Home;","import React from 'react';\r\n// import _ from 'lodash';\r\n// import { getParamValues } from '../utils/functions';\r\n\r\nexport default class RedirectPage extends React.Component {\r\n  componentDidMount() {\r\n    const { history, location } = this.props;\r\n    try {\r\n      // if (_.isEmpty(location.hash)) {\r\n      //   console.log(window.location.hash)\r\n      //   // return history.push('/dashboard');\r\n      // }\r\n\r\n      var hash = window.location.hash.substring(2);\r\n      const access_token = hash.split('&').reduce(function (res, item) {\r\n          var parts = item.split('=');\r\n          res[parts[0]] = parts[1];\r\n          return res;\r\n      }, {});\r\n\r\n      // const access_token = getParamValues(location.hash);\r\n      const expiryTime = new Date().getTime() + access_token.expires_in * 1000;\r\n      localStorage.setItem('params', JSON.stringify(access_token));\r\n      localStorage.setItem('expiry_time', expiryTime);\r\n      history.push('/dashboard');\r\n    } catch (error) {\r\n      history.push('/');\r\n    }\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport _ from 'lodash'\r\nimport defaultLogo from '../images/default-cover-art.png';\r\nimport '../styles/PlaylistList.css'\r\nconst PlayList = ({ playlists, handlePlaylistSelect, loadMore, type }) => {\r\n\r\n  const handleSelect = (data) => {\r\n    handlePlaylistSelect(data)\r\n  }\r\n\r\n  const handleLoadClick = () => {\r\n    loadMore(playlists, type)\r\n  }\r\n  return (\r\n    <div className=\"PlaylistList\">\r\n      <div className=\"PlaylistList-items\">\r\n        {playlists.items.map((item, i) => \r\n          <Card \r\n            key={i}  \r\n            style={{ width: '18rem' }} \r\n            onClick={() => {handleSelect(item)}}>\r\n              <div className=\".card-image-link\">\r\n                {!_.isEmpty(item.images) ? (\r\n                  <Card.Img \r\n                    variant=\"top\" \r\n                    src={item.images[0].url} \r\n                    alt=\"\" />\r\n                ) : (\r\n                  <img src={defaultLogo} alt=\"\" />\r\n                )}\r\n\r\n                <Card.Body>\r\n                  <Card.Title>{item.name}</Card.Title>\r\n                  <Card.Text>\r\n                    <small>By {item.owner.display_name}</small>\r\n                  </Card.Text>\r\n                </Card.Body>\r\n                \r\n              </div>\r\n          </Card>\r\n        )}\r\n      </div>\r\n\r\n      {playlists.next !== null && \r\n        <Button \r\n          variant=\"info\" \r\n          type=\"button\" \r\n          onClick={handleLoadClick}>\r\n            Load More\r\n        </Button>}\r\n    </div>\r\n  );\r\n};\r\nexport default PlayList;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAzFBMVEW1tbW1tbW1tbXIyMi+vr7////e3t7q6uqvr6/4+Pibm5unp6e9vb3p6emsrKytra3Dw8O6urrS0tLAwMDt7e3b29vR0dH5+fnv7+/w8PDx8fH6+vrj4+Pa2trs7Ozi4uKmpqaKiorW1taWlpaXl5fh4eGqqqq8vLyTk5Oenp6hoaGPj4+NjY3n5+eysrKZmZnd3d2RkZHLy8uwsLC/v7/FxcWdnZ22trbExMTr6+vKysro6OjZ2dmkpKSIiIj29vaQkJDMzMzk5OSlpaWmSmUvAAAAAnRSTlPs9UmPd0sAAAcMSURBVHhe7MABAQAAAAGg/D9tCJFhR9mlYwIAQBgGYHTDv2ZePDTRkKlGeQBOphgRQAAEQAAEaCUAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAhABBEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABNjfFaDOY9d++9MmozCO66EXJiKB4GRSGtaUvyE1bDoVnRxaff/vyTkzxoTZtXmUXNfv6f3wfHOH8wk4rs0NQAC+CqgBCED4NTUAAUCHG4AAfMMNQAC6ETUAAUCPG4AAtLgBCEAYUAMQAPS5AQhAGFMDEAAMuAEIAL7lBiAAz7gBCAC+4wYgABhyAxCA531qAAKA5xfUAAQA38fUAAQAo5gagADgMqYGIAC47FMDEACM+9QABADjFjUAAQCG3AAEAG1uAAKAq5gDgACwroMCUMa6DAjAg42H1AAEAEi4AQgArrgBCAAmMQEAAWBcBgSAXIAAkAsQAHIBAsAuQABOCz8lgAOAAPQSnO8FBQABuE57Ic52QwFAADrT2Rxn6zMAEICFddIlzvUspgAgABasshHOdMMBQADM1vkAZ1qSABAAi26XOO0HFgACYMUmC3FSnwWAAJitZ92T05c8AATAolenAogACIAFp3fAj0QABMCKEwGjgAWAAJwX8BMTAAGw4r+7wGsqAAJgRYSPSiIqAAJgwc84LlxzARAAW4xw3C9kAATAfsVxHTYAAmAvPhJSsAEQgNc4artgAyAA9hs3AAH4/RhARgdAAGJuAAJgb7gBCMAf3AAEYIhDRghAAFpHQsgBCMCOGoAA+IIZgACE3AAEYO7GDEAAtikhAAFIPpyvqAEIgGeEAARggrLEF4QABGCPMnNjBqCvgfmUEIAAtFCW+I4QgAAkKDMvCAEIwKQ8DPOpEQIQAJQNfEcIQABaKJulBSEAAWgfvgNsjBCAAOzLs54HhAAEoF8ejXxlhAAEoF0eLb3DCEAA9u93wFsjBCAAw/Jk62tCAAIQj99fAGlBCEAA2ocLIDNCAAJQXgBdTwtGAAJQzj/3zBgBCEBrBGCe+51RAhAA8+x65n5XkAIQgMWtu68KIwUgAGbRIjCjASAALAmAAAiAADAnAAIgAMwJgAAIAHMCIAACwJEACMBF69/oAAhAfJ9M9vjQ5Gp4wQJAAPrtS5xp3241H4AAxDeX+GT7pNkABOAiGeOhBKCxxeX4OQEIwP0YoAUgAPEbgBeAALTGIAYgAEOAGIAAXOGJCYDmj5wagOYPJwWg93+ZFwJQ5/qomFuNE4B4Tw1AAK5QsVAA6lwLVZsLQJ2bVAeQMgPQBYDtihmALgAsBaC+XaB6WSYAta2NyoW+FoDadonKJR4JQF2LUT1LjRiAdoDQpwJQ2xJUbus7YgACEOapEQMQgKVnxAAEYO5pwQtAfwUJZ742XgDaAnq+MgGoc6iUeRoIQK37ExUauHeMFoB+BAzcd1bvBCAOq8x/YwJQ917iiVkj5i8ASzypsCHzFwC7xxPqZk15/wtA0MWjG+Se7kwAmtEuxOMKe+53kQlAU/orfOzj75vCGpMAFJsuPrv5tXvasQYlABa9SvB5jXrevMdfACy4W4Z4uLm5+2phTUsArJjOBnigwbW733bMBKCJrdP/JZBY7u6rnTU0AbBg47klONNo8G76vllYmQA0lYDnve28i0PzZNub+T9Nd4U1OwEwK3ZTf1d2/baZl91uCKYvAKWBTra680OradYJjCcBKIsWbwv+ZpcOCAAAQBAAlf9Ht6AFwgbyEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEECAIAACIEArARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARAAARCAnVRjUo1rBw4IAAAACADl/2lDiAw7BQlRmkgBzmH1AAAAAElFTkSuQmCC\"","import axios from 'axios';\r\n\r\n//Stores the access_token, token_type and expires_in values in an obj\r\nexport const getParamValues = (url) => {\r\n  return url\r\n    .slice(1)\r\n    .split('&')\r\n    .reduce((prev, curr) => {\r\n      const [title, value] = curr.split('=');\r\n      prev[title] = value;\r\n      return prev;\r\n    }, {});\r\n};\r\n\r\n// Adds the access_token to every axios API request\r\nexport const setAuthHeader = () => {\r\n  try {\r\n    const params = JSON.parse(localStorage.getItem('params'));\r\n    if (params) {\r\n      axios.defaults.headers.common[\r\n        'Authorization'\r\n      ] = `Bearer ${params.access_token}`;\r\n    }\r\n  } catch (error) {\r\n    console.log('Error setting auth', error);\r\n  }\r\n};\r\n","import axios from 'axios';\r\nimport { setAuthHeader } from './functions';\r\n\r\n// Making API calls, but first add access_token in Authorization header\r\nexport const get = async (url, params) => {\r\n  setAuthHeader();\r\n  const result = await axios.get(url, params);\r\n  return result.data;\r\n};\r\n\r\nexport const post = async (url, params) => {\r\n  setAuthHeader();\r\n  const result = await axios.post(url, params);\r\n  return result.data;\r\n};","import {\r\n  SET_PLAYLIST,\r\n  ADD_PLAYLIST,\r\n  SET_TRACKS,\r\n  SET_USER_PLAYLIST,\r\n  ADD_USER_PLAYLIST\r\n} from '../utils/constants';\r\nimport { get } from '../utils/api';\r\n\r\nexport const setUserPlayList = (userPlaylists) => ({\r\n  type: SET_USER_PLAYLIST,\r\n  userPlaylists\r\n});\r\n\r\nexport const addUserPlaylist = (userPlaylists) => ({\r\n  type: ADD_USER_PLAYLIST,\r\n  userPlaylists\r\n});\r\n\r\nexport const setPlayList = (playlists) => ({\r\n  type: SET_PLAYLIST,\r\n  playlists\r\n});\r\n\r\nexport const addPlaylist = (playlists) => ({\r\n  type: ADD_PLAYLIST,\r\n  playlists\r\n});\r\n\r\nexport const setTracks = (playlistData, tracks) => ({\r\n  type: SET_TRACKS,\r\n  playlistData,\r\n  tracks\r\n});\r\n\r\n\r\nexport const getUserPlaylists = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const API_URL = `https://api.spotify.com/v1/me/playlists`;\r\n      const res = await get(API_URL);\r\n      return dispatch(setUserPlayList(res));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n}\r\n\r\nexport const initiateGetResult = (searchTerm) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const API_URL = `https://api.spotify.com/v1/search?query=${encodeURIComponent(\r\n        searchTerm\r\n      )}&type=playlist`;\r\n      const res = await get(API_URL);\r\n      const { playlists } = res;\r\n      return dispatch(setPlayList(playlists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getTracks = (URL) => {\r\n  return async (dispatch) => {\r\n    let allTracks = []\r\n    let playlistData = {}\r\n    let counter = 0;\r\n\r\n    async function recursivelyGetSongs(URL) {\r\n      try {\r\n        const res = await get(URL)\r\n        \r\n        // Save the playlist data on the first request\r\n        if (res.owner){\r\n          playlistData = res;\r\n        } \r\n\r\n        // Add to the current tracks\r\n        let tracks\r\n        res.tracks ? tracks = res.tracks : tracks = res\r\n        allTracks.push(...tracks.items)\r\n\r\n        // loop until all tracks are received.\r\n        if (tracks.next !== null && counter < 5) {\r\n          //Counter to avoid infinite loop while testing\r\n          counter++\r\n          await recursivelyGetSongs(tracks.next)\r\n        } else {\r\n          return dispatch(setTracks(playlistData, allTracks));\r\n        }\r\n      } catch (error) {\r\n        console.log('error', error);\r\n      }\r\n    } \r\n    \r\n    await recursivelyGetSongs(URL)\r\n  };\r\n}\r\n\r\nexport const initiateLoadMorePlaylist = (url, type) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await get(url);\r\n\r\n      //If getting more user playlists\r\n      if (type === 'user') return dispatch(addUserPlaylist(res));\r\n      \r\n      return dispatch(addPlaylist(res.playlists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};","import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport '../styles/SearchForm.css'\r\n\r\nconst SearchForm = (props) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const handleInputChange = (event) => {\r\n    const searchTerm = event.target.value;\r\n    setSearchTerm(searchTerm);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    event.preventDefault();\r\n    if (searchTerm.trim() !== '') {\r\n      setErrorMsg('');\r\n      props.handleSearch(searchTerm);\r\n    } else {\r\n      setErrorMsg('Please enter a search term.');\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <Form onSubmit={handleSearch}>\r\n        {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Enter search term</Form.Label>\r\n          <Form.Control\r\n            type=\"search\"\r\n            name=\"searchTerm\"\r\n            value={searchTerm}\r\n            placeholder=\"Search for playlist\"\r\n            onChange={handleInputChange}\r\n            autoComplete=\"off\"\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"info\" type=\"submit\">\r\n          Search\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\nexport default SearchForm;","import React, { useEffect, useState } from 'react';\r\nimport _ from 'lodash';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect, useHistory } from 'react-router-dom'\r\nimport PlaylistList from './PlaylistList'\r\nimport { \r\n  initiateGetResult, \r\n  getUserPlaylists, \r\n  initiateLoadMorePlaylist } from '../actions/result';\r\nimport Header from './Header';\r\nimport SearchForm from './SearchForm';\r\nimport '../styles/Dashboard.css'\r\n\r\nconst Dashboard = ({setSelectedPlaylist, setExpiryTime, isValidSession}) => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  \r\n  const [selectedTab, setSelectedTab] = useState('userTab')\r\n  const  { userPlaylist, playlist }  = useSelector(state => state)\r\n\r\n  // Get the users playlists\r\n  useEffect(() => {\r\n    async function getPlaylists() {\r\n      await dispatch(getUserPlaylists()).then((res) => {\r\n        /**\r\n         * Clear localStorage and cause redirect \r\n         * if invalid auth_token is passed\r\n         */ \r\n        if (res === undefined) {\r\n          localStorage.clear();\r\n          setExpiryTime(0)\r\n        }\r\n      });\r\n    }\r\n    getPlaylists()\r\n  }, [dispatch, setExpiryTime])\r\n\r\n  // Get search results and switch to search tab\r\n  const handleSearch = (searchTerm) => {\r\n    dispatch(initiateGetResult(searchTerm)).then((res) => {\r\n      setSelectedTab('searchTab')\r\n    });\r\n  }\r\n  \r\n  //Switching between user/public playlists\r\n  const handleTabChange = (e) => {\r\n    if (e.target.id !== selectedTab) {\r\n      selectedTab === 'userTab' ? \r\n        setSelectedTab('searchTab') : setSelectedTab('userTab') \r\n    } else {\r\n      console.log('already selected')\r\n    }\r\n  }\r\n\r\n  // Grabbing tracks from a playlist\r\n  async function handlePlaylistSelect(data) {\r\n    // await dispatch(getTracks(data.href))\r\n    setSelectedPlaylist(data)\r\n    history.push(`/playlist/${data.id}/tracks`)\r\n  }\r\n\r\n  // Load more playlists\r\n  async function loadMore(playlist, type) {\r\n    await dispatch(initiateLoadMorePlaylist(playlist.next, type));\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isValidSession() ? (\r\n        <div>\r\n        <Header />\r\n        <SearchForm handleSearch={handleSearch}/>\r\n        <div className=\"Dashboard-tabs\">\r\n          <div \r\n            className={\r\n              `Dashboard-tabs-tab \r\n              ${selectedTab===\"userTab\" ? \"active\" : \"\"}`\r\n            }\r\n            id='userTab'\r\n            onClick={handleTabChange}>\r\n            My Playlists\r\n          </div>\r\n          <div \r\n            className={\r\n              `Dashboard-tabs-tab \r\n              ${selectedTab===\"searchTab\" ? \"active\" : \"\"}`\r\n            } \r\n            id='searchTab'\r\n            onClick={handleTabChange}>\r\n            Search Results\r\n          </div>\r\n        </div>\r\n\r\n\r\n        {!_.isEmpty(userPlaylist) && selectedTab === \"userTab\" && \r\n          <PlaylistList \r\n            playlists={userPlaylist} \r\n            handlePlaylistSelect={handlePlaylistSelect}\r\n            loadMore={loadMore}\r\n            type='user'\r\n          />}\r\n\r\n\r\n        {!_.isEmpty(playlist) && selectedTab === \"searchTab\" &&\r\n          <PlaylistList \r\n            playlists={playlist} \r\n            handlePlaylistSelect={handlePlaylistSelect}\r\n            loadMore={loadMore} \r\n            type='public'\r\n          />}\r\n        </div>\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/',\r\n            state: {\r\n              session_expired: true\r\n            }\r\n          }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  )\r\n};\r\nexport default Dashboard;","import React from \"react\";\r\nimport \"../styles/Videoplayer.css\"\r\nimport YouTube from \"react-youtube\";\r\n\r\n\r\nconst Videoplayer = ({currTrack, videoId, handleNextTrack }) => {\r\n  if (!videoId) {\r\n    return (\r\n      <p style={{ textAlign: \"center\", fontSize: \"18px\", fontWeight: \"bold\" }}>\r\n        Waiting on video\r\n      </p>\r\n    );\r\n  }\r\n\r\n  // Play next track after current one is finished playing\r\n  const checkElapsedTime = (e) => {\r\n    if (e.target.playerInfo.playerState=== 0) {\r\n      handleNextTrack()\r\n    }\r\n  };\r\n\r\n  // variable options\r\n  // In our case, autoplay when loaded\r\n  const opts = {\r\n    playerVars: {\r\n      autoplay: 1\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n    <div className=\"video-player\">\r\n      <YouTube\r\n        videoId={videoId}\r\n        containerClassName=\"embed embed-youtube\"\r\n        onStateChange={(e) => checkElapsedTime(e)}\r\n        opts={opts}\r\n      />\r\n      \r\n    </div>\r\n    {currTrack.snippet.title !== undefined && \r\n      <div className=\"video-player-title\">\r\n      Currently Playing: {currTrack.snippet.title}\r\n      </div>\r\n    }\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Videoplayer;","import axios from 'axios';\r\nconst {REACT_APP_YT_KEY} = process.env\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://www.googleapis.com/youtube/v3/\",\r\n  params: {\r\n    part: 'snippet',\r\n    maxResults: 5,\r\n    key: REACT_APP_YT_KEY\r\n  }\r\n})","import React, { useEffect, useState } from 'react';\r\nimport { Redirect, useParams } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport _ from 'lodash';\r\nimport Header from './Header';\r\nimport Videoplayer from './Videoplayer'\r\nimport youtube from '../utils/youtube'\r\nimport '../styles/Tracks.css'\r\nimport { Button } from 'react-bootstrap';\r\nimport { getTracks } from '../actions/result';\r\n\r\n\r\nconst Tracks = ({isValidSession, selectedPlaylist}) => {\r\n  const dispatch = useDispatch()\r\n  const { playlistId } = useParams()\r\n  const BASE_URL = \"https://api.spotify.com/v1/playlists/\"\r\n\r\n  const [songIndex, setSongIndex] = useState(0)\r\n  const [randomize, setRandomize] = useState(false)\r\n  const [isBusy, setIsBusy] = useState(true)\r\n  const [currTrack, setCurrTrack] = useState({\r\n    id: {\r\n      videoId: \"_LLCz1FCWrY\"\r\n    },\r\n    snippet: {\r\n      title: \"Two time - meme\"\r\n    } \r\n  })\r\n  \r\n  const  { tracks }  = useSelector(state => state.tracks)\r\n  const  { playlistData }  = useSelector(state => state.tracks)\r\n\r\n\r\n  const query = BASE_URL + playlistId\r\n  useEffect(() => {\r\n    async function getPlaylistData() {\r\n        await dispatch(getTracks(query));\r\n    }\r\n\r\n\r\n    getPlaylistData().then((res) => {\r\n      // Can now load the main content\r\n      setIsBusy(false)\r\n    });\r\n    \r\n  }, [dispatch, query])\r\n  \r\n  //Search Youtube's API\r\n  async function searchForVideo(trackId) {\r\n    try {\r\n      const res = await youtube.get('/search', {\r\n        params: {\r\n          q: `${tracks[trackId].track.name} by ${tracks[trackId].track.artists[0].name}`\r\n        }\r\n      })\r\n      setCurrTrack(res.data.items[0])\r\n      setSongIndex(trackId)\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  // If song is selected\r\n  const handleSelect = async (e) => {\r\n    let trackId = e.target.id.split('-')[1]\r\n    await searchForVideo(trackId);\r\n  }\r\n\r\n  const handleNextTrack = async () => {\r\n    let nextSong\r\n    \r\n    // go to the next index if not random\r\n    // go to the first track if at the last song\r\n    if (!randomize) {\r\n      nextSong = parseInt(songIndex) + 1\r\n      if (nextSong === tracks.length) nextSong = 0;\r\n    } else {\r\n      //Choose a random song if shuffle is on\r\n      nextSong = Math.floor(Math.random() * tracks.length)\r\n    }\r\n    await searchForVideo(nextSong)\r\n  }\r\n\r\n\r\n  // Toggle Random\r\n  const toggleRandom = () => {\r\n    setRandomize(randomize => !randomize)\r\n  }\r\n  \r\n  // Listing the songs\r\n  const showTracks = () => {\r\n    return tracks.map((item, i) => (\r\n      <div \r\n        key={i} \r\n        id={`track-${i}`}\r\n        className=\"Tracks-track\"\r\n        onClick={handleSelect}>{item.track.name} - {item.track.artists[0].name}</div>\r\n    ))\r\n  }\r\n  /**\r\n   * This is needed for now because the 'selectedPlaylist' won't be \r\n   * assigned if the user types the id of the playlist into the searchbar\r\n   */\r\n  \r\n  if (isValidSession() && !isBusy && _.isEmpty(playlistData)) {\r\n    alert('Something went wrong, returning to Dashboard');\r\n    <Redirect to='/dashboard'/>\r\n  }\r\n\r\n\r\n  /**\r\n   * Check if the session has not expired \r\n   * && if react is finished with mounting requests \r\n   * && if a playlist was found\r\n   * before loading the main content\r\n   */\r\n  return (\r\n    <React.Fragment>\r\n      {isValidSession() && !isBusy && !_.isEmpty(playlistData) ? (\r\n        <div>\r\n          <Header />\r\n          <div>\r\n            <a\r\n              target=\"_blank\"\r\n              href={playlistData.external_urls.spotify}\r\n              rel=\"noopener noreferrer\"\r\n              className=\"card-image-link\"\r\n            >\r\n              <h3 className=\"Tracks-playlist-title\">\r\n                {playlistData.name} \r\n                <small> By {playlistData.owner.display_name}</small>\r\n              </h3>\r\n            </a>\r\n          </div>\r\n\r\n        {/* Load start button or video if playlist has started */}\r\n          {currTrack.etag ? (\r\n            <Videoplayer currTrack={currTrack} videoId={currTrack.id.videoId} handleNextTrack={handleNextTrack}/>\r\n          ) : (\r\n            <div>\r\n            <Button \r\n              id=\"startBtn\"\r\n              variant=\"success\"\r\n              type=\"button\" \r\n              onClick={handleNextTrack}\r\n              disabled={_.isEmpty(tracks) ? true : false}>\r\n                Start\r\n            </Button>\r\n            <span> {_.isEmpty(tracks) ? \"Playlist is empty\" : \"\"}</span>\r\n            </div>\r\n          )}\r\n          \r\n          <div>\r\n            <Button \r\n              variant={randomize ? \"info\" : \"secondary\"}\r\n              type=\"button\" \r\n              onClick={toggleRandom}>\r\n                Shuffle: {randomize ? \"On\" : \"Off\"}\r\n            </Button>\r\n            <Button \r\n              type=\"button\" \r\n              onClick={handleNextTrack}>\r\n                Next\r\n            </Button>\r\n          </div>\r\n          {!_.isEmpty(tracks) && showTracks()}\r\n        </div>\r\n\r\n      ) : (\r\n        isBusy ? (\r\n          <div>Loading</div>\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/',\r\n              state: {\r\n                session_expired: true\r\n              }\r\n            }}\r\n          />\r\n        )\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Tracks;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from './Header';\r\n\r\nconst NotFoundPage = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <div>\r\n        Page not found. <Link to=\"/dashboard\">Home Page</Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default NotFoundPage;","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\n//Easy component that scrolls to top after new route \r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport Home from '../components/Home';\r\nimport RedirectPage from '../components/RedirectPage';\r\nimport Dashboard from '../components/Dashboard';\r\nimport Tracks from '../components/Tracks';\r\nimport NotFoundPage from '../components/NotFoundPage';\r\nimport ScrollToTop from '../components/ScrollToTop'\r\n\r\nconst AppRouter = (props) => {\r\n  const [expiryTime, setExpiryTime] = useState('0')\r\n  const [selectedPlaylist, setSelectedPlaylist] = useState(null)\r\n  // const routerBaseName = process.env.PUBLIC_URL;\r\n\r\n  useEffect(() => {\r\n    let expiryTime;\r\n    try {\r\n      expiryTime = JSON.parse(localStorage.getItem('expiry_time'));\r\n    } catch (error) {\r\n      expiryTime = '0';\r\n    }\r\n    setExpiryTime(expiryTime)\r\n  }, [expiryTime])\r\n\r\n  \r\n  const isValidSession = () => {\r\n    const currentTime = new Date().getTime();\r\n    const isSessionValid = currentTime < expiryTime;\r\n    return isSessionValid;\r\n  }\r\n\r\n  return (\r\n    <HashRouter>\r\n      <ScrollToTop />\r\n      <div className=\"main\">\r\n        <Switch>\r\n          <Route \r\n            path=\"/\" \r\n            exact={true} \r\n            render={(props) => (\r\n              <Home {...props} isValidSession={isValidSession} />\r\n            )}\r\n          />\r\n          <Route path=\"/:access_token(access_token=.*)\" component={RedirectPage} />\r\n          {/* <Route\r\n            path=\"/redirect\"\r\n            render={(props) => (\r\n              <RedirectPage {...props} />\r\n            )}\r\n          /> */}\r\n          <Route path=\"/dashboard\" render={(props) => (\r\n              <Dashboard \r\n                {...props} \r\n                isValidSession={isValidSession}\r\n                setExpiryTime={setExpiryTime} \r\n                setSelectedPlaylist={setSelectedPlaylist}\r\n              />\r\n            )} \r\n          />\r\n          <Route \r\n            path=\"/playlist/:playlistId/tracks\" \r\n            render={(props) => (\r\n              <Tracks \r\n                {...props} \r\n                isValidSession={isValidSession} \r\n                selectedPlaylist={selectedPlaylist}  \r\n              />\r\n            )} />\r\n          <Route component={NotFoundPage} />\r\n        </Switch>\r\n      </div>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default AppRouter;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport AppRouter from './router/AppRouter';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppRouter />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}